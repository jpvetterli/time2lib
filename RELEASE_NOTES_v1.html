<html>
<style type="text/css">
<!--/* <![CDATA[ */
hr {border-width: 0; border-top-width: 1;}
body {background: #d8eef7; color: black; font-family: monospace; font-size: medium;}
xmp {background: white; border: 1px dashed; padding: 10px}
/* ]]> */--></style>
<title>T2 LIBRARY RELEASE NOTES</title>
<body>

<h1>T2 LIBRARY RELEASE NOTES</h1>

<small>2011-10-10/jpv</small>

<xmp>Copyright 2011 Hauser Olsson GmbH.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</xmp>
<hr/>
<!-- ************************************************************* -->
<h2>ABOUT VERSION NUMBERS</h2>
Version numbers are in 3 parts: a major, a medium, and a minor number.
The major number is incremented very rarely, when the software is
modified in such a way that clients using it need to be recoded or even 
redesigned. The medium number is incremented when modifications break 
backward compatibility. For all other modifications, only the minor 
number is incremented.
<p>
<hr/>
<!-- ************************************************************* -->
<a name="v1_1_2">2011-10-10/jpv</a>
<p>
<h3>Version 1.1.2 &mdash; Support for ISO 8601:2004 calendar dates and times</h3>

<p>
Starting today, release notes are sorted with the most recent release first.
<p>
The new version supports the representation for calendar dates and times 
defined in the ISO 8601:2004 international standard. Dates and times can be 
input using the basic or extended format. Leap seconds are tolerated. 
Time zone offsets are supported. A complete description is available from
the class documentation of DefaultExternalFormat.
<p>
The release consists of two jars:
<ul>
<li><em>t2-1.1.2.jar</em> (binaries)
<li><em>t2-1.1.2.source.jar</em> (sources only)
</ul>
</p>
Compared to version 1.1.1, the following files have been modified 
(new file version number in parentheses):
<ul>
<li>ch/agent/t2/T2Msg.properties (1.0.3)
<ul>
<li>32100 32110 32120 removed
<li>32042 32052 32062 32064 32072 32094 32095 32096 32097 32098 32099 added
<li>32020 32030 32040 32050 32060 32070 32100 modified
</ul>

<li>ch/agent/t2/time/DefaultExternalFormat.java (1.0.1)
<ul>
<li>scan(String) modified. Now adheres to ISO 8601:2004.
<li>format(Resolution, TimeParts) modified. Inserts a plus sign in front of the year in some cases (ISO 8601).
<li>documentation improved
</ul>

<li>ch/agent/t2/time/TimeParts.java (1.0.1)
<ul>
<li>inner class TimeZoneOffset added 
<li>asRawIndex(Resolution) added. The method supports ISO 8601 and replaces the static method TimeTools.makeRawIndex().
<li>checkTimeComponentsAndApplyTimeZoneOffset() added
<li>setTimeZoneOffset(TimeZoneOffset) added
<li>documentation improved
</ul>

<li>ch/agent/t2/time/engine/Time2.java (1.0.2)
<ul>
<li>toString(boolean) modified. Inserts a plus sign in front of the year in some cases (ISO 8601).
</ul>

<li>ch/agent/t2/time/engine/TimeFactory.java (1.0.2)
<ul>
<li>getDayOfWeek(TimeIndex) modified
<li>pack(TimeParts, Adjustment) modified
</ul>

<li>ch/agent/t2/time/engine/TimeTools.java (1.0.1)
<ul>
<li>makeRawIndex(Resolution, TimeParts) modified and <b>deprecated</b>. It is now an adapter for TimeParts.asRawIndex().
New code should use TimeParts.asRawIndex directly.
</ul>

</ul>

<hr/>
<!-- ************************************************************* -->
<a name="v1_1_1">2011-09-21/jpv</a>
<p>
<h3>Version 1.1.1 &mdash; Times from different domains now comparable</h3>

The new version provides a functional improvement in the comparison of times.
It also includes various bug fixes and documentation improvements.

<p>
The release consists of two jars:
<ul>
<li><em>t2-1.1.1.jar</em> (binaries)
<li><em>t2-1.1.1.source.jar</em> (sources only)
</ul>
</p>
Compared to version 1.1.0, the following files have been modified 
(new file version number in parentheses):
<ul>
<li>ch/agent/t2/T2Msg.properties (1.0.2)
<ul>
<li>32008 removed
<li>32009 added
</ul>

<li>ch/agent/t2/time/TimeDomain.java (1.0.1)
<ul>
<li>maxTime(boolean) added
<li>minTime(boolean) added
<li>maxTime(): comment modified
<li>minTime(): comment modified
</ul>

<li>ch/agent/t2/time/TimeDomainDefinition.java (1.0.1)
<ul>
<li>comments modified
</ul>

<li>ch/agent/t2/time/engine/Time2.java (1.0.1)
<ul>
<li>class comment: new warning note about time comparisons
<li> convert(TimeDomain, Adjustment): bug fix. 
When converting from YEAR or MONTH to higher resolution domains,
the month and day are now set to 1.
<li>compareTo(TimeIndex otherTime): better implementation. It is now
possible to compare times from different domains.
</ul>

<li>ch/agent/t2/time/engine/TimeFactory.java (1.0.1)
<ul>
<li>TimeDomain.maxTime(boolean) implementation added
<li>TimeDomain.minTime(boolean) implementation added
</ul>

<li>ch/agent/t2/timeseries/RegularTimeSeries.java (1.1.1)
<ul>
<li>fill(T, long): bug fix. 
In a special case, the method was breaking the rule that
missing values are all represented by the same object or null.
</ul>

<li>ch/agent/t2/time/timeutil/DayExpression.java (1.0.1)
<ul>
<li>class comment: typo.
<li>getDate(TimeDomain): bug fix and comment update.
The method was producing an unintended side effect.  
</ul>

</ul>

<hr/>
<!-- ************************************************************* -->
<a name="v1_1_0">2011-08-22/jpv</a>
<p>
<h3>Version 1.1.0 &mdash; Null elements forbidden unless they represent a missing value</h3>
There is now a consistently enforced rule that elements of time series cannot be 
null unless null has been defined to represent missing values. The rule is not new,
but its implementation has been cleaned up.
<p>
The new version of the library includes
modifications in TimeIndexable and RegularTimeSeries which are not backward compatible.
These changes are highlighted below.
<p>
Various pieces of javadoc comment have been updated.
<p>
The release consists of two jars:
<ul>
<li><em>t2-1.1.0.jar</em> (binaries)
<li><em>t2-1.1.0.source.jar</em> (sources only)
</ul>
</p>
Compared to version 1.0.0, the following files have been modified 
(new file version number in parentheses):
<ul>
<li>ch/agent/t2/T2Msg.properties (1.0.1)
<ul>
<li>header with copyright added
<li>40116 modified
<li>40117, 40118, 40121, 40124 added
</ul>

<li>ch/agent/t2/time/{Adjustment, Resolution}.java (1.0.1)
<ul>
<li>add @version in javadoc
</ul>

<li>ch/agent/t2/time/Range.java (1.0.1)
<ul>
<li>remove @version from javadoc of a nested class
</ul>

<li>ch/agent/t2/timeseries/AbstractTimeSeries.java (1.0.1)
<ul>
<li>normalizeMissingValue() modified
</ul>

<li>ch/agent/t2/timeseries/Filler.java (1.0.1)
<ul>
<li>fillHole() now throws an Exception
</ul>

<li>ch/agent/t2/timeseries/RegularTimeSeries.java (1.1.0)
<ul>
<li>fill(long) now defined in interface TimeIndexable
<li>fill(T, long) <b>now throws a KeyedException</b> (breaks backward compatibility) 
<li>fill(Filler) <b>now throws a KeyedException</b> (breaks backward compatibility) 
</ul>

<li>ch/agent/t2/timeseries/SparseTimeSeries (1.0.1)
<ul>
<li>remove @version from javadoc of a nested class
</ul>

<li>ch/agent/t2/timeseries/TimeAddressable.java (1.0.1)
<ul>
<li>all put() methods: javadoc modified
</ul>

<li>ch/agent/t2/timeseries/TimeIndexable.java (1.1.0)
<ul>
<li>fill(long) added
<li>fill(T, long) <b>now throws a KeyedException</b> (breaks backward compatibility) 
<li>fill(Filler) <b>now throws a KeyedException</b> (breaks backward compatibility) 
</ul>

</ul>

<hr/>
<!-- ************************************************************* -->
<a name="v1_0_0">2011-08-17/jpv</a>
<p>
The same version (1.0.0) of the Time2 Library is released again.
The library version number is now encoded into the names
of jars, a README file and RELEASE NOTES have been added to the library,
and line terminators in a few files have been standardized.
The release consists of two jars:
<ul>
<li><em>t2-1.0.0.jar</em> (binaries)
<li><em>t2-1.0.0.source.jar</em> (sources only)
</ul>
</p>
Compared to the 2011-07-15 release,
<ul>
<li>2 files have been added to the libraries:
<ul>
<li><em>README_1st.html</em>
<li><em>RELEASE_NOTES_v1.html</em>
</ul>
<li>and in 4 files, line terminators have been cleaned up (CRLFs replaced with LFs):
<ul>
<li>ch/agent/core/KeyedException.java
<li>ch/agent/core/MessageBundle.java
<li>ch/agent/core/KeyedMessage.java
<li>ch/agent/t2/T2Msg.java
</ul>
</ul>

<hr/>
<!-- ************************************************************* -->
<a name="first_release">2011-07-15/jpv</a>
<p>
The Time2 Library is released as a beta version on SourceForge 
(<a href="http://time2.sourceforge.net">http://time2.sourceforge.net</a>). 
The release consists of two jars:
<ul>
<li><em>t2.jar</em> (binaries)
<li><em>t2source.jar</em> (sources only)
</ul>
</p>

</html>
